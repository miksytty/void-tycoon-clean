<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8">
  <meta name="viewport"
    content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <meta name="theme-color" content="#1a1a2e">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <title>Void Tycoon</title>
  <meta name="description" content="Ğ’Ñ‹Ğ¶Ğ¸Ğ²Ğ°Ğ¹, Ğ´Ğ¾Ğ±Ñ‹Ğ²Ğ°Ğ¹ Ñ€ĞµÑÑƒÑ€ÑÑ‹ Ğ¸ ÑÑ‚Ñ€Ğ¾Ğ¹ Ğ¸Ğ¼Ğ¿ĞµÑ€Ğ¸Ñ Ğ² Ğ±ĞµÑĞºĞ¾Ğ½ĞµÑ‡Ğ½Ğ¾Ğ¼ Ğ¼Ğ¸Ñ€Ğµ!">

  <link rel="icon" type="image/png" href="/public/icon.png">
  <link rel="apple-touch-icon" href="/public/icon.png">

  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <script src="https://adsgram.ai/js/sdk.js"></script>

  <link rel="stylesheet" href="/src/styles/main.css">
  <style>
    body {
      padding-top: env(safe-area-inset-top);
      padding-bottom: env(safe-area-inset-bottom);
      padding-left: env(safe-area-inset-left);
      padding-right: env(safe-area-inset-right);
    }

    #ui-overlay {
      top: env(safe-area-inset-top);
      bottom: env(safe-area-inset-bottom);
      left: env(safe-area-inset-left);
      right: env(safe-area-inset-right);
      width: auto;
      height: auto;
    }
  </style>
</head>

<body>
  <div id="loading-screen">
    <div class="loader-container">
      <div class="loader-title">VOID TYCOON</div>
      <div class="loader-bar">
        <div class="loader-progress" id="load-progress"></div>
      </div>
      <div class="loader-text" id="load-text">Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ...</div>
    </div>
  </div>

  <div id="game-container"></div>

  <div id="ui-overlay">
    <!-- Dialog Container -->
    <div id="dialog-container">
      <div class="dialog-speaker">Speaker</div>
      <div class="dialog-text">Text content...</div>
      <div class="dialog-next">Touch to continue â–¶</div>
    </div>
    <div id="hud">
      <div id="player-info">
        <div id="level-badge">LV <span id="player-level">1</span></div>
        <div id="xp-bar">
          <div id="xp-progress"></div>
        </div>
      </div>
      <div id="resources-panel">
        <div class="resource" id="res-wood">
          <span class="res-icon">ğŸªµ</span>
          <span class="res-count">0</span>
        </div>
        <div class="resource" id="res-iron">
          <span class="res-icon">ğŸ”©</span>
          <span class="res-count">0</span>
        </div>
        <div class="resource" id="res-crystal">
          <span class="res-icon">ğŸ’</span>
          <span class="res-count">0</span>
        </div>
      </div>

      <!-- Top Right Controls -->
      <div id="controls-top-right"
        style="position: absolute; top: 10px; right: 10px; display: flex; gap: 8px; z-index: 100;">
        <button id="btn-sound" class="action-btn"
          style="width: 36px; height: 36px; font-size: 18px; padding: 0; background: rgba(0,0,0,0.5); border: 1px solid rgba(255,255,255,0.2);">ğŸ”Š</button>
      </div>
      <div id="energy-panel">
        <div id="energy-bar">
          <div id="energy-progress"></div>
        </div>
        <span id="energy-text">100/100</span>
        <!-- Free Gems Button -->
        <button id="btn-free-gems" class="ad-btn"
          style="margin-top:5px; background:linear-gradient(45deg, #00b09b, #96c93d); border:none; border-radius:4px; padding:4px 8px; color:white; font-weight:bold; cursor:pointer;">
          ğŸ’ Free (+50)
        </button>
      </div>
    </div>

    <div id="action-buttons">
      <button id="btn-build" class="action-btn">ğŸ”¨</button>
      <button id="btn-inventory" class="action-btn">ğŸ’</button>
      <button id="btn-shop" class="action-btn">ğŸª</button>
      <button id="btn-quests" class="action-btn">ğŸ“‹</button>
      <button id="btn-achievements" class="action-btn">ğŸ†</button>
      <button id="btn-ranking" class="action-btn">ğŸ‘‘</button>
      <!-- Smelter button removed - simplified gameplay -->
      <button id="btn-skills" class="action-btn">ğŸ“</button>
      <button id="btn-research" class="action-btn">ğŸ§ª</button>
      <button id="btn-friends" class="action-btn">ğŸ‘¥</button>
      <button id="btn-settings" class="action-btn">âš™ï¸</button>
    </div>
  </div>

  <div id="inventory-modal" class="modal hidden">
    <div class="modal-content">
      <div class="modal-header">
        <h2>ğŸ’ Ğ˜Ğ½Ğ²ĞµĞ½Ñ‚Ğ°Ñ€ÑŒ</h2>
        <button class="close-btn">&times;</button>
      </div>
      <div class="modal-tabs">
        <button class="tab-btn active" data-tab="items">ĞŸÑ€ĞµĞ´Ğ¼ĞµÑ‚Ñ‹</button>
        <button class="tab-btn" data-tab="craft">ĞšÑ€Ğ°Ñ„Ñ‚</button>
        <button class="tab-btn" data-tab="tools">Ğ˜Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚Ñ‹</button>
        <button class="tab-btn" data-tab="buildings">ĞŸĞ¾ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸</button>
      </div>
      <div id="inventory-grid" class="tab-content active" data-tab="items"></div>
      <div id="craft-panel" class="tab-content" data-tab="craft"></div>
      <div id="tools-panel" class="tab-content" data-tab="tools"></div>
      <div id="buildings-panel" class="tab-content" data-tab="buildings"></div>
    </div>
  </div>

  <div id="shop-modal" class="modal hidden">
    <div class="modal-content">
      <div class="modal-header">
        <h2>ğŸª ĞœĞ°Ğ³Ğ°Ğ·Ğ¸Ğ½</h2>
        <button class="close-btn">&times;</button>
      </div>
      <div id="shop-items"></div>
    </div>
  </div>

  <div id="achievements-modal" class="modal hidden">
    <div class="modal-content">
      <div class="modal-header">
        <h2>ğŸ† Ğ”Ğ¾ÑÑ‚Ğ¸Ğ¶ĞµĞ½Ğ¸Ñ</h2>
        <button class="close-btn">&times;</button>
      </div>
      <div class="stars-display"
        style="text-align: center; padding: 10px; background: rgba(255,215,0,0.1); border-radius: 8px; margin-bottom: 15px;">
        <span style="font-size: 1.5rem;">â­</span>
        <span id="stars-count" style="font-size: 1.2rem; font-weight: bold; color: #ffd700;">0</span>
      </div>
      <div id="achievements-list"></div>
    </div>
  </div>

  <div id="quests-modal" class="modal hidden">
    <div class="modal-content">
      <div class="modal-header">
        <h2>ğŸ“‹ Ğ•Ğ¶ĞµĞ´Ğ½ĞµĞ²Ğ½Ñ‹Ğµ ĞºĞ²ĞµÑÑ‚Ñ‹</h2>
        <button class="close-btn">&times;</button>
      </div>
      <div class="quests-timer"
        style="text-align: center; padding: 8px; background: rgba(108,92,231,0.1); border-radius: 8px; margin-bottom: 15px; font-size: 0.9rem; color: #888;">
        ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ñ‡ĞµÑ€ĞµĞ·: <span id="quests-timer">--:--:--</span>
      </div>
      <div id="quests-list"></div>
    </div>
  </div>

  <div id="ranking-modal" class="modal hidden">
    <div class="modal-content">
      <div class="modal-header">
        <h2>ğŸ‘‘ Ğ¢Ğ¾Ğ¿ ĞœĞ°Ğ³Ğ½Ğ°Ñ‚Ğ¾Ğ²</h2>
        <button class="close-btn">&times;</button>
      </div>
      <div class="ranking-tabs" style="display: flex; gap: 10px; margin-bottom: 15px;">
        <button class="tab-btn active" style="flex: 1;">ĞĞµĞ´ĞµĞ»Ñ</button>
        <button class="tab-btn" style="flex: 1;">Ğ’ÑĞµ Ğ²Ñ€ĞµĞ¼Ñ</button>
      </div>
      <div id="ranking-list" style="display: flex; flex-direction: column; gap: 8px;">
      </div>
      <div class="user-rank"
        style="margin-top: 15px; padding: 12px; background: rgba(108, 92, 231, 0.2); border: 1px solid #6c5ce7; border-radius: 10px; display: flex; align-items: center; justify-content: space-between;">
        <div style="display: flex; align-items: center; gap: 10px;">
          <span style="font-weight: bold; color: #a29bfe;">#99+</span>
          <span>Ğ’Ñ‹</span>
        </div>
        <span style="font-weight: bold; color: #ffd700;">0 XP</span>
      </div>
    </div>
  </div>
  </div>

  <div id="friends-modal" class="modal hidden">
    <div class="modal-content">
      <div class="modal-header">
        <h2>ğŸ‘¥ Ğ”Ñ€ÑƒĞ·ÑŒÑ</h2>
        <button class="close-btn">&times;</button>
      </div>
      <div class="modal-body" style="text-align: center;">
        <div
          style="background: rgba(255,255,255,0.05); padding: 15px; border-radius: 12px; margin-bottom: 20px; border: 1px solid rgba(255,255,255,0.1);">
          <p style="font-size: 1.1em; margin-bottom: 10px;">ĞŸÑ€Ğ¸Ğ³Ğ»Ğ°ÑĞ¸ Ğ´Ñ€ÑƒĞ³Ğ° Ğ¸ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸ <b style="color:#00ffff;">100
              ğŸ’</b>!</p>
          <p style="font-size: 0.9em; opacity: 0.7; margin-bottom: 15px;">Ğ¢Ğ²Ğ¾Ğ¹ Ğ´Ñ€ÑƒĞ³ Ñ‚Ğ°ĞºĞ¶Ğµ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ 100 ğŸ’ Ğ±Ğ¾Ğ½ÑƒÑĞ°.</p>
          <button id="btn-invite-friend" class="primary-btn pulse"
            style="width: 100%; padding: 12px; font-size: 1.1em; background: linear-gradient(45deg, #6c5ce7, #a29bfe); border: none; border-radius: 8px; color: white; cursor: pointer;">ğŸ“¤
            ĞŸÑ€Ğ¸Ğ³Ğ»Ğ°ÑĞ¸Ñ‚ÑŒ</button>
        </div>

        <div id="referrals-stats">
          <p style="opacity: 0.6;">ĞŸÑ€Ğ¸Ğ³Ğ»Ğ°ÑˆĞ°Ğ¹ Ğ´Ñ€ÑƒĞ·ĞµĞ¹, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ´Ğ¾Ğ¼Ğ¸Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ² Ñ€ĞµĞ¹Ñ‚Ğ¸Ğ½Ğ³Ğµ!</p>
        </div>
      </div>
    </div>
  </div>

  <div id="ranking-modal" class="modal hidden">
    <div class="modal-content">
      <div class="modal-header">
        <h2>ğŸ‘‘ Ğ›Ğ¸Ğ´ĞµÑ€Ğ±Ğ¾Ñ€Ğ´</h2>
        <button class="close-btn">&times;</button>
      </div>
      <div id="ranking-list" class="ranking-container">
        <div style="text-align:center; padding: 20px; color: #888;">â³ Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ°...</div>
      </div>
    </div>
  </div>

  <div id="settings-modal" class="modal hidden">
    <div class="modal-content">
      <div class="modal-header">
        <h2>âš™ï¸ ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸</h2>
        <button class="close-btn">&times;</button>
      </div>
      <div class="settings-list">
        <label class="setting-item">
          <span>ğŸ”Š Ğ—Ğ²ÑƒĞºĞ¸</span>
          <input type="checkbox" id="setting-sound" checked>
        </label>
        <label class="setting-item">
          <span>ğŸµ ĞœÑƒĞ·Ñ‹ĞºĞ°</span>
          <input type="checkbox" id="setting-music" checked>
        </label>
        <label class="setting-item">
          <span>ğŸ“³ Ğ’Ğ¸Ğ±Ñ€Ğ°Ñ†Ğ¸Ñ</span>
          <input type="checkbox" id="setting-haptic" checked>
        </label>
        <label class="setting-item">
          <span>ğŸ“„ Privacy Policy</span>
          <a href="/privacy.html" id="link-privacy" target="_blank" style="margin-left:8px; color:#ff6b6b;">View</a>
        </label>
        <label class="setting-item">
          <span>ğŸ“„ Terms of Service</span>
          <a href="/tos.html" id="link-tos" target="_blank" style="margin-left:8px; color:#ff6b6b;">View</a>
        </label>

        <hr style="border: 0; border-top: 1px solid #444; margin: 15px 0;">

        <div id="reset-confirm-container"
          style="display: none; margin-top: 15px; text-align: center; background: rgba(231, 76, 60, 0.1); padding: 10px; border-radius: 8px;">
          <p style="color: #ff6b6b; margin-bottom: 10px;">âš ï¸ Ğ’Ñ‹ ÑƒĞ²ĞµÑ€ĞµĞ½Ñ‹? Ğ’ĞµÑÑŒ Ğ¿Ñ€Ğ¾Ğ³Ñ€ĞµÑÑ Ğ±ÑƒĞ´ĞµÑ‚ ÑƒĞ´Ğ°Ğ»ĞµĞ½!</p>
          <div style="display: flex; gap: 10px; justify-content: center;">
            <button id="btn-confirm-reset"
              style="padding: 8px 20px; background: #e74c3c; color: white; border: none; border-radius: 6px; cursor: pointer;">Ğ”Ğ,
              Ğ¡Ğ‘Ğ ĞĞ¡Ğ˜Ğ¢Ğ¬</button>
            <button id="btn-cancel-reset"
              style="padding: 8px 20px; background: #444; color: white; border: none; border-radius: 6px; cursor: pointer;">ĞĞ¢ĞœĞ•ĞĞ</button>
          </div>
        </div>

        <button id="btn-reset-progress"
          style="width: 100%; padding: 12px; background: #2d3436; color: #ff7675; border: 1px solid #ff7675; border-radius: 8px; font-weight: bold; cursor: pointer;">
          ğŸ”´ Ğ¡Ğ±Ñ€Ğ¾ÑĞ¸Ñ‚ÑŒ Ğ¿Ñ€Ğ¾Ğ³Ñ€ĞµÑÑ
        </button>

        <a href="https://t.me/VoidTycoonSupportBot" target="_blank"
          style="display:block; text-align:center; margin-top:10px; padding: 12px; background: rgba(52, 152, 219, 0.2); color: #3498db; border: 1px solid #3498db; border-radius: 8px; font-weight: bold; text-decoration: none;">
          ğŸ› Report Bug / Support
        </a>
      </div>
      <div class="settings-footer">
        <div class="version-info">Ver: 1.0 Release</div>
        <div style="margin-top:8px; font-size:0.8rem;">
          <a href="/LICENSES.md" target="_blank" style="color:#ff6b6b;">Licenses</a>
        </div>
      </div>
    </div>
  </div>

  <div id="research-modal" class="modal hidden">
    <div class="modal-content">
      <div class="modal-header">
        <h2>ğŸ§ª Ğ›Ğ°Ğ±Ğ¾Ñ€Ğ°Ñ‚Ğ¾Ñ€Ğ¸Ñ</h2>
        <button class="close-btn">&times;</button>
      </div>
      <div id="research-list"></div>
    </div>
  </div>

  <!-- Smelter modal removed - simplified gameplay -->

  <div id="notifications-container"></div>

  <script type="module" src="/src/main.js"></script>
</body>

</html>